!function(c){var g={};function I(t){if(g[t])return g[t].exports;var e=g[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,I),e.l=!0,e.exports}I.m=c,I.c=g,I.d=function(c,g,t){I.o(c,g)||Object.defineProperty(c,g,{enumerable:!0,get:t})},I.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},I.t=function(c,g){if(1&g&&(c=I(c)),8&g)return c;if(4&g&&"object"==typeof c&&c&&c.__esModule)return c;var t=Object.create(null);if(I.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:c}),2&g&&"string"!=typeof c)for(var e in c)I.d(t,e,function(g){return c[g]}.bind(null,e));return t},I.n=function(c){var g=c&&c.__esModule?function(){return c.default}:function(){return c};return I.d(g,"a",g),g},I.o=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)},I.p="",I(I.s=15)}({15:function(module,exports,__webpack_require__){"use strict";eval("\r\n/* eslint-disable no-unused-vars */\r\n/* global $, document, Clyde, ClydeSitePreferences */\r\n\r\n/**\r\n * re-renders the order totals and the number of items in the cart\r\n * @param {Object} message - Error message to display\r\n */\r\n function createErrorNotification(message) {\r\n    var errorHtml = '<div class=\"alert alert-danger alert-dismissible valid-cart-error ' +\r\n        'fade show\" role=\"alert\">' +\r\n        '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">' +\r\n        '<span aria-hidden=\"true\">&times;</span>' +\r\n        '</button>' + message + '</div>';\r\n\r\n    $('.cart-error').append(errorHtml);\r\n}\r\n\r\nfunction displayContract() {\r\n    Clyde.init({\r\n        key: ClydeSitePreferences.CLYDE_API_KEY,\r\n        type: ClydeSitePreferences.CLYDE_WIDGET_TYPE,\r\n        environment: ClydeSitePreferences.CLYDE_WIDGET_ENVIRONMENT,\r\n        skipGeoIp: true\r\n    }, function () {\r\n        var clydeCartWidget = document.getElementsByClassName('clyde-cart-widget');\r\n        for (var i = 0; i < clydeCartWidget.length; i++) {\r\n            var productId = clydeCartWidget[i].getAttribute('data-product-id');\r\n            var container = '#' + clydeCartWidget[i].id;\r\n            Clyde.appendToSelectorWithSku(productId, container, addProductToCart);\r\n        }\r\n    });\r\n\r\n    function addProductToCart() {\r\n        var actionURL = $('.clyde-cart-widget-action').data('action-url');\r\n        if (Clyde.getActiveProduct().contracts.length > 0) {\r\n            var product = Clyde.getActiveProduct().sku;\r\n            var selectedContract = Clyde.getSelectedContract().sku;\r\n            var data = {\r\n                pid: product,\r\n                clydeContractSku: selectedContract\r\n            };\r\n    \r\n            $.ajax({\r\n                url: actionURL,\r\n                type: 'get',\r\n                data: data,\r\n                success: function (data) {\r\n                    if (data.error) {\r\n                        createErrorNotification(data.message)\r\n                    } else {\r\n                        location.reload();\r\n                    }\r\n                },\r\n                error: function (err) {\r\n                    location.reload();\r\n                }\r\n            });\r\n        }\r\n       \r\n    }\r\n\r\n}\r\n\r\nif (document.readyState === 'complete' && Clyde.checkReady() === true) {\r\n    displayContract();\r\n} else {\r\n    setTimeout(displayContract, 1000);\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jYXJ0cmlkZ2VzL2ludF9jbHlkZV9zZnJhL2NhcnRyaWRnZS9jbGllbnQvZGVmYXVsdC9qcy9jbHlkZVdpZGdldENhcnQuanM/ZTdhZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLDRCQUE0QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cclxuLyogZ2xvYmFsICQsIGRvY3VtZW50LCBDbHlkZSwgQ2x5ZGVTaXRlUHJlZmVyZW5jZXMgKi9cclxuXHJcbi8qKlxyXG4gKiByZS1yZW5kZXJzIHRoZSBvcmRlciB0b3RhbHMgYW5kIHRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGNhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlIHRvIGRpc3BsYXlcclxuICovXHJcbiBmdW5jdGlvbiBjcmVhdGVFcnJvck5vdGlmaWNhdGlvbihtZXNzYWdlKSB7XHJcbiAgICB2YXIgZXJyb3JIdG1sID0gJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXIgYWxlcnQtZGlzbWlzc2libGUgdmFsaWQtY2FydC1lcnJvciAnICtcclxuICAgICAgICAnZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+JyArXHJcbiAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPicgK1xyXG4gICAgICAgICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPicgK1xyXG4gICAgICAgICc8L2J1dHRvbj4nICsgbWVzc2FnZSArICc8L2Rpdj4nO1xyXG5cclxuICAgICQoJy5jYXJ0LWVycm9yJykuYXBwZW5kKGVycm9ySHRtbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3BsYXlDb250cmFjdCgpIHtcclxuICAgIENseWRlLmluaXQoe1xyXG4gICAgICAgIGtleTogQ2x5ZGVTaXRlUHJlZmVyZW5jZXMuQ0xZREVfQVBJX0tFWSxcclxuICAgICAgICB0eXBlOiBDbHlkZVNpdGVQcmVmZXJlbmNlcy5DTFlERV9XSURHRVRfVFlQRSxcclxuICAgICAgICBlbnZpcm9ubWVudDogQ2x5ZGVTaXRlUHJlZmVyZW5jZXMuQ0xZREVfV0lER0VUX0VOVklST05NRU5ULFxyXG4gICAgICAgIHNraXBHZW9JcDogdHJ1ZVxyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbHlkZUNhcnRXaWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjbHlkZS1jYXJ0LXdpZGdldCcpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2x5ZGVDYXJ0V2lkZ2V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0SWQgPSBjbHlkZUNhcnRXaWRnZXRbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y3QtaWQnKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9ICcjJyArIGNseWRlQ2FydFdpZGdldFtpXS5pZDtcclxuICAgICAgICAgICAgQ2x5ZGUuYXBwZW5kVG9TZWxlY3RvcldpdGhTa3UocHJvZHVjdElkLCBjb250YWluZXIsIGFkZFByb2R1Y3RUb0NhcnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFByb2R1Y3RUb0NhcnQoKSB7XHJcbiAgICAgICAgdmFyIGFjdGlvblVSTCA9ICQoJy5jbHlkZS1jYXJ0LXdpZGdldC1hY3Rpb24nKS5kYXRhKCdhY3Rpb24tdXJsJyk7XHJcbiAgICAgICAgaWYgKENseWRlLmdldEFjdGl2ZVByb2R1Y3QoKS5jb250cmFjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdCA9IENseWRlLmdldEFjdGl2ZVByb2R1Y3QoKS5za3U7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZENvbnRyYWN0ID0gQ2x5ZGUuZ2V0U2VsZWN0ZWRDb250cmFjdCgpLnNrdTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBwaWQ6IHByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICBjbHlkZUNvbnRyYWN0U2t1OiBzZWxlY3RlZENvbnRyYWN0XHJcbiAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogYWN0aW9uVVJMLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2dldCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFcnJvck5vdGlmaWNhdGlvbihkYXRhLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgJiYgQ2x5ZGUuY2hlY2tSZWFkeSgpID09PSB0cnVlKSB7XHJcbiAgICBkaXNwbGF5Q29udHJhY3QoKTtcclxufSBlbHNlIHtcclxuICAgIHNldFRpbWVvdXQoZGlzcGxheUNvbnRyYWN0LCAxMDAwKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")}});